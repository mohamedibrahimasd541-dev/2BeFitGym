<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2B FIT GYM</title>
<link rel="icon" href="https://em-content.zobj.net/thumbs/240/apple/325/man-lifting-weights_1f3cb-fe0f-200d-2642-fe0f.png" type="image/png">
<!-- QR Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
/* === body يغطي كامل الشاشة === */
body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    color: #333;
    width: 100vw;     
    height: 100vh;     
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;     
    box-sizing: border-box;
background-image: url('bg.jpg'); /* ضع هنا رابط صورتك */
    background-size: cover;           /* تغطي كامل الشاشة */
    background-position: center;      /* توسيط الصورة */
    background-repeat: no-repeat;
}


.logo {
    width: 250px;
    height: 250px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid white;
    margin-bottom: 22px;
}


input, button {
    width: 90%;
    max-width: 700px;
    padding: 28px 24px;
    margin-top: 14px;
    font-size: 18px;
    border-radius: 8px;
    border: 1px solid #ccc;
    outline: none;
    color: #333;
    box-sizing: border-box;
}

input::placeholder {
    color: #999;
}

input:focus {
    border-color: #25D366;
    box-shadow: 0 0 5px #25D366;
}

button {
    background: #25D366;
    border: none;
    color: white;
    cursor: pointer;
    transition: background 0.3s ease;
}

button:hover {
    background: #1ebe57;
}

#downloadBtn {
    background: #007bff;
}

#downloadBtn:hover {
    background: #0056b3;
}

/* === QR Code === */
#qrcode {
    margin-top: 20px;
    padding: 10px;
    display: inline-block;
}


/* === موبايل responsive === */
@media (max-width: 480px) {
    .logo {
        width: 140px;
        height: 140px;
        margin-bottom: 20px;
    }

    input, button {
        width: 95%;
        font-size: 20px;
        padding: 16px;
    }

    #qrcode {
        width: 180px;
        height: 180px;
    }
}
</style>
</head>

<body>

<img src="logo.jpeg" class="logo">

<input id="name" placeholder="Your Name">
<input id="phone" placeholder="Phone Number">

<button onclick="generateQR()">Generate QR Code</button>
<button id="downloadBtn">Download QR</button>

<div id="qrcode"></div>

<script>
let currentQRCode;

function generateQR() {
    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();

    // === التحقق من الاسم الثلاثي ===
    const nameParts = name.split(/\s+/); // تقسيم الاسم على حسب الفراغ
    if (nameParts.length !== 2) {
        alert("الاسم يجب أن يكون ثلاثي (اسم - اسم أبي - اسم عائلة)");
        return;
    }

    // === التحقق من رقم الموبايل المصري ===
    const phonePattern = /^(010|011|012|015)[0-9]{8}$/;
    if (!phonePattern.test(phone)) {
        alert("رقم الموبايل غير صالح، يجب أن يكون رقم مصري صحيح مكون من 11 رقم يبدأ بـ 010,011,012 أو 015");
        return;
    }

    // إذا كل شيء صحيح، نعمل QR
    const qrDiv = document.getElementById("qrcode");
    qrDiv.innerHTML = "";

    const pageURL = `https://2-be-fit-gym.vercel.app/card.html?name=${encodeURIComponent(name)}&phone=${encodeURIComponent(phone)}`;

    currentQRCode = new QRCode(qrDiv, {
        text: pageURL,
        width: 220,
        height: 220,
        colorDark: "#000",
        colorLight: "#fff",
        correctLevel: QRCode.CorrectLevel.L
    });
}

// تحميل QR كصورة PNG
document.getElementById("downloadBtn").addEventListener("click", function() {
    const qrDiv = document.getElementById("qrcode");
    const canvas = qrDiv.querySelector("canvas");

    if (!canvas) {
        alert("اعمل QR Code أولًا قبل التحميل!");
        return;
    }

    const link = document.createElement("a");
    link.href = canvas.toDataURL("image/png");
    link.download = "GymInvitationQR.png";
    link.click();
});
</script>

</body>
</html>


